<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.doit.ik.mapper.scott.EmpMapper">
	<!-- ArrayList<DeptDTO> selectDept(); -->
<!-- 	<select id="selectEmp" resultType="org.doit.ik.domain.EmpDTO">
		SELECT *
		FROM emp
		ORDER BY
		deptno ASC
	</select> --> 	

	<!-- ArrayList<EmpDTO> selectEmp(int deptnoArr[]); 10/30 -->
<!-- 	<select id="selectEmp" resultType="org.doit.ik.domain.EmpDTO"
		parameterType="int[]">
		SELECT *
		FROM emp
		<where>
			<foreach item="deptno" index="index" collection="array"
				open="deptno in (" separator="," close=")">
				#{deptno}
			</foreach>
		</where>
		ORDER BY deptno ASC
	</select> -->
	<select id="selectEmp" resultType="org.doit.ik.domain.EmpDTO">
		SELECT *
		FROM emp
		ORDER BY
		deptno ASC
	</select>

<!-- ArrayList<EmpDTO> selectEmpDept(@Param("deptno") int deptno); -->	
	<select id="selectEmpDept" resultType="org.doit.ik.domain.EmpDTO">
		SELECT *
		FROM emp
		<where>
			<choose>
	            <when test="deptno == 0">
	                deptno IS NULL
	            </when>
	            <otherwise>
	                deptno = #{deptno}
	            </otherwise>
	        </choose>
		</where>
		ORDER BY deptno ASC
	</select>
	
</mapper>